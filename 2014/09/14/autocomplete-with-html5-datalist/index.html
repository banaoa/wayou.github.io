<!DOCTYPE html>
  <head>
  <title>
  
  </title>
  <meta charset="UTF-8">
  
  
  
  <link href="/favicon.ico" rel="icon"/>
  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="Wayou Liu">
  <meta name="description" content="share thoughts on web developing">
  <meta name="keywords" content="frontend,dev,software,web,react,js,css,html,javascript,china,chinese,github,angularjs">
  <link href="/img/logo.png" rel="shortcut icon"/>
  <link rel="stylesheet" href="/style/icon.css"> 
  <link rel="stylesheet" href="/style/util.css">
  <link rel="stylesheet" href="/style/typograph.css">
  <link rel="stylesheet" href="/style/header.css">
  <link rel="stylesheet" href="/style/aside.css">
  <link rel="stylesheet" href="/style/post.css"> 
  <link rel="stylesheet" href="/style/pager.css"> 
  <link rel="stylesheet" href="/style/footer.css"> 
  <link rel="stylesheet" href="/style/style.css">        
<link rel="stylesheet" href="/css/prism-duotone-sea.css" type="text/css"></head>
  <body>
    <header>
  <div class="header-wrap clearfix">
      <a class="logo-wrap" href="/">          
        <img class="logo" src="/logo.png" alt="">
        <span class="site-name">刘哇勇的部落格</span>          
      </a>
      <div class="menu-wrap">
          <div class="header-burger" onclick="this.parentNode.parentNode.classList.toggle('open')">
              <div></div>
          </div>
      </div>
      <nav class="header-nav">
          <ul>
           
              <li class="nav-item">
                  <a class="nav-link" href="/">
                      首页
                  </a>
              </li>
           
              <li class="nav-item">
                  <a class="nav-link" href="/archives">
                      归档
                  </a>
              </li>
           
              <li class="nav-item">
                  <a class="nav-link" href="/about">
                      关于
                  </a>
              </li>
           
              <li class="nav-item">
                  <a class="nav-link" href="/atom.xml">
                      订阅
                  </a>
              </li>
              
          </ul>
      </nav>
  </div>
</header>        
    <div class="container clearfix">
  <div class="col col-sidebar"></div>
  <div class="col col-main">
    <article>
      <h1>
        利用HTML5 的Datalist 元素实现输入提示
      </h1>
      <section class="post-info">
    <div class="post-date">
        <i class="material-icons md-dark">watch_later</i>
        3 年前
    </div>
              
        <div class="post-categories">
        <i class="material-icons md-dark">folder</i>
        <a class="category-link" href="/categories/技术/">技术</a>
        </div>
    
    
    <div class="post-tags">
    <i class="material-icons md-dark">local_offer</i>
    <a class="tag-link" href="/tags/Autocomplete/">Autocomplete</a>, <a class="tag-link" href="/tags/Datalist/">Datalist</a>, <a class="tag-link" href="/tags/HTML5/">HTML5</a>
    </div>
    
</section>
      <section class="post-content">
        <p>HTML5有无限可能，总是在释出一些新鲜实用的功能，让原生的web环境更加炫酷。</p>
<p>今天看到<code>datalist</code> 这个元素，可以用来预先定义一个输入框的潜在选项，也就是我们在平时项目中经常用jQuery插件或者自己写JS来实现的<code>autocomplete</code>「自动补全，但似乎自动提示更贴切一些」功能。</p>
<a id="more"></a>
<h2 id="datalist-标签"><a href="/2014/09/14/autocomplete-with-html5-datalist/#datalist-标签" class="headerlink" title="datalist 标签"></a>datalist 标签</h2><p>具体来说，页面上的<code>input</code>还是原来的<code>input</code>，只是在它的下面定义一下新的<code>datalist</code>在其中填充触发提示的文本,同时在该<code>input</code>元素上指定<code>list</code>属性指向这个<code>list</code>。一个大概的例子大概是像下面这样：</p>
<pre class=" language-html"><code class="language-html">你最喜欢的浏览器是： <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">list</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>browsers<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>datalist</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>browsers<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Internet Explorer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Firefox<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Chrome<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Opera<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Safari<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>datalist</span><span class="token punctuation">></span></span>
</code></pre>
<p>最后出来的效果又差不多是这样的：<br><img src="/2014/09/14/autocomplete-with-html5-datalist/datalist1.gif" alt="HTML5 datalist demo"><span class="image-caption">HTML5 datalist demo</span></p>
<p>在线查看效果请点击<a href="http://sandbox.runjs.cn/show/lvgpes2k" target="_blank" rel="external">这里</a></p>
<p>没什么特别之处，简单得发指~</p>
<p>但相信大家在看了效果后跟我一样，发现了一个不足之处，在<code>input</code>右边会有向下的箭头，这让它看起来就像一个<code>dropdown</code> 或者<code>select</code> 「下拉框」，解决办法是多加两句CSS代码来将它隐藏，但此方法只是针对<code>webkit</code>内核的浏览器进行的优化：</p>
<pre class=" language-css"><code class="language-css"><span class="token selector">input<span class="token pseudo-element">::-webkit-calendar-picker-indicator</span> </span><span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token property">-webkit-appearance</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>这样之后出来的效果差不多成了这样：<br><img src="/2014/09/14/autocomplete-with-html5-datalist/datalist2.gif" alt="HTML5 datalist 去掉箭头的版本"><span class="image-caption">HTML5 datalist 去掉箭头的版本</span></p>
<h2 id="浏览器兼容性"><a href="/2014/09/14/autocomplete-with-html5-datalist/#浏览器兼容性" class="headerlink" title="浏览器兼容性"></a>浏览器兼容性</h2><p>下面的数据来自<a href="http://caniuse.com/#feat=datalist" target="_blank" rel="external">caniuse</a>。<br><img src="/2014/09/14/autocomplete-with-html5-datalist/caniuse_datalist.jpg" alt="Datalist 元素兼容性"><span class="image-caption">Datalist 元素兼容性</span><br>可以看出，遥遥领先的依然是风采依旧的Chrome，对该元素的支持全线飘绿；<br>同时Firefox也是毫不示弱，紧随版本帝之后;<br>而其他浏览器情况则各不相同，正所谓<strong>性</strong>福的人都相似，不幸的人各有不幸。<br>Opera在边缘浏览器中表现强劲，绿得很耀眼；<br>值得注意的是，在这场不算较量的较量中，苹果太子Safari则是黑马般拿到了垫底的位置，全线飘红。这直接一举打破IE在主流浏览器的各种评测中常年垫底的记录。<br>而IE虽然摆脱了末位的阴影，但即使是最新的IE11也只是对<code>Datalist</code>元素进行了部分支持，所以要与各强劲对手比肩而受到前端开发者的青睐还有些工作要做。但留给IE翻盘的时间已经不多了，正如留给中国队的时间一样~</p>
<h2 id="参考及引用"><a href="/2014/09/14/autocomplete-with-html5-datalist/#参考及引用" class="headerlink" title="参考及引用"></a>参考及引用</h2><ul>
<li><a href="http://caniuse.com/#feat=datalist" target="_blank" rel="external">Can I Use Datalist element</a></li>
<li><a href="http://www.codelator.com/blog/2014/sep/how-to-create-autocomplete-textbox-using-datalist-in-html5.html" target="_blank" rel="external">How to create Autocomplete Textbox using Datalist in HTML5</a></li>
</ul>

      </section>
      
    </article>

    
      <div class="pager">
        
          <a class="post-prev pager-item" href="/2014/11/02/how-to-make-a-simple-html5-canvas-game-zh/">
        <strong class="article-nav-caption">上一篇</strong>
        <p class="post-nav-title">如何开发一个简单的HTML5 Canvas 小游戏</p>
      </a>
          
            
              <a class="post-next pager-item" href="/2014/09/10/chrome-console-tips-and-tricks/">
        <strong class="article-nav-caption">下一篇</strong>
        <p class="post-nav-title">Chrome 控制台不完全指南</p>
      </a>
              
      </div>
    

    <!-- comments -->
    <div class="comment-section">
  
    

    <div id="disqus_thread"></div>
    <script>
        /**
         *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
         *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
         */
        
        var disqus_config = function () {
            this.page.url = 'http://wayou.js.org/2014/09/14/autocomplete-with-html5-datalist/';  // Replace PAGE_URL with your page's canonical URL variable
            this.page.identifier = '_posts/2014-09-14-autocomplete-with-html5-datalist.md'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        };
        
        (function() {  // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            
            s.src = '//wayou.disqus.com/embed.js';
            
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
  


</div>

  </div>
</div>
    <footer class="footer">
    <p>由<a href="http://hexo.io/" target="_blank">Hexo</a>强力驱动，搭载<a title="under developing..." href="javascript:;">末名</a>主题</p>
    <p>
        &copy; 2017 Wayou Liu
    </p>
</footer>
<!--<script src="/lib/waves.js"></script>-->
<!--<script src="/js/main.js"></script>-->

  </body>
</html>
