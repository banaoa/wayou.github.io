<!DOCTYPE html>
  <head>
  
  <title>延迟求值-如何让Lo-Dash再提速x100? | 刘哇勇的部落格</title>
  <meta charset="UTF-8">
  
  
  <link href="/favicon.ico" rel="icon"/>
  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="Wayou Liu">
  
  <link rel="canonical" href="https://wayou.github.io/2014/11/08/lazy-evaluation/"/>
  <meta name="description" content="作者在本文里没有说明这么一个事实： 目前的版本Lo-Dash v2.4.1并没有引入延迟求值的特性，Lo-Dash 3.0.0-pre中部分方法进行了引入，比如filter(),map(),reverse()。  原文：How to Speed Up Lo-Dash ×100? Introducing Lazy Evaluation  我时常觉得像Lo-Dash这样优秀的库已经无法再优化了。它整合">
<meta name="keywords" content="JavaScript,性能">
<meta property="og:type" content="article">
<meta property="og:title" content="延迟求值-如何让Lo-Dash再提速x100?">
<meta property="og:url" content="https://wayou.github.io/2014/11/08/lazy-evaluation/index.html">
<meta property="og:site_name" content="刘哇勇的部落格">
<meta property="og:description" content="作者在本文里没有说明这么一个事实： 目前的版本Lo-Dash v2.4.1并没有引入延迟求值的特性，Lo-Dash 3.0.0-pre中部分方法进行了引入，比如filter(),map(),reverse()。  原文：How to Speed Up Lo-Dash ×100? Introducing Lazy Evaluation  我时常觉得像Lo-Dash这样优秀的库已经无法再优化了。它整合">
<meta property="og:image" content="https://wayou.github.io/2014/11/08/lazy-evaluation/lodash-naive.gif">
<meta property="og:image" content="https://wayou.github.io/2014/11/08/lazy-evaluation/grafika.gif">
<meta property="og:image" content="https://wayou.github.io/2014/11/08/lazy-evaluation/benchmark.jpg">
<meta property="og:updated_time" content="2017-06-23T16:37:56.383Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="延迟求值-如何让Lo-Dash再提速x100?">
<meta name="twitter:description" content="作者在本文里没有说明这么一个事实： 目前的版本Lo-Dash v2.4.1并没有引入延迟求值的特性，Lo-Dash 3.0.0-pre中部分方法进行了引入，比如filter(),map(),reverse()。  原文：How to Speed Up Lo-Dash ×100? Introducing Lazy Evaluation  我时常觉得像Lo-Dash这样优秀的库已经无法再优化了。它整合">
<meta name="twitter:image" content="https://wayou.github.io/2014/11/08/lazy-evaluation/lodash-naive.gif">
<meta name="twitter:creator" content="@liuwayong">
<link rel="publisher" href="+WayouLiu">
<meta property="fb:admins" content="liuwayong">
<meta property="fb:app_id" content="liuwayong">
  <link href="/img/logo.png" rel="shortcut icon"/>
  <!--<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">-->
  <link rel="stylesheet" href="/lib/waves/waves.css">
  <link rel="stylesheet" href="/lib/tocbot/tocbot.css">
  <link rel="stylesheet" href="/style/style.css">        
  
<!-- Google analyse -->
<script>
  // if(new Date().getTimezoneOffset()/60 == -8) /*disable for china */ return;
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46794744-6', 'auto');
  ga('send', 'pageview');

</script>

<link rel="stylesheet" href="/css/prism-atom-dark.css" type="text/css"></head>
  <body>
    <header>
  <div class="header-wrap clearfix">
      <div class="header-content">
          <a class="logo-wrap ink" href="/">          
            <img class="logo" src="/logo.png" alt="">
            <span class="site-name">刘哇勇的部落格</span>          
        </a>
        <div class="menu-wrap">
            <div class="header-burger" onclick="document.body.classList.toggle('open')">
                <div></div>
            </div>
        </div>
      </div>
      <nav class="header-nav">
          <ul>
           
              <li class="nav-item ink">
                  <a class="nav-link" href="/">
                      首页
                  </a>
              </li>
           
              <li class="nav-item ink">
                  <a class="nav-link" href="/archives">
                      归档
                  </a>
              </li>
           
              <li class="nav-item ink">
                  <a class="nav-link" href="/about">
                      关于
                  </a>
              </li>
           
              <li class="nav-item ink">
                  <a class="nav-link" href="/atom.xml">
                      订阅
                  </a>
              </li>
              
          </ul>
      </nav>
  </div>
</header>
        
    <div class="container clearfix">
  <div class="col col-sidebar">
    
      <!--placeholder-->
      <p></p>
      <div class="toc js-toc"></div>
    
  </div>
  <div class="col col-main">
    <article>
      <h1>延迟求值-如何让Lo-Dash再提速x100?</h1>
      <section class="post-info">
    <div class="post-date">
        <i class="material-icons md-dark">watch_later</i>
        2014-11-08 15:11:00
    </div>
              
        <div class="post-categories">
        <i class="material-icons md-dark">folder</i>
        <a class="category-link" href="/categories/前端/">前端</a>
        </div>
    
    
    <div class="post-tags">
    <i class="material-icons md-dark">local_offer</i>
    <a class="tag-link" href="/tags/JavaScript/">JavaScript</a>, <a class="tag-link" href="/tags/性能/">性能</a>
    </div>
    
</section>
      <section class="post-content">
        <p><em>作者在本文里没有说明这么一个事实：
目前的版本<code>Lo-Dash v2.4.1</code>并没有引入延迟求值的特性，<code>Lo-Dash 3.0.0-pre</code>中部分方法进行了引入，比如<code>filter()</code>,<code>map()</code>,<code>reverse()</code>。</em></p>
<blockquote>
<p>原文：<a href="http://filimanjaro.com/blog/2014/introducing-lazy-evaluation" target="_blank" rel="external">How to Speed Up Lo-Dash ×100? Introducing Lazy Evaluation</a></p>
</blockquote>
<p>我时常觉得像<code>Lo-Dash</code>这样优秀的库已经无法再优化了。它整合了各种<a href="https://www.youtube.com/watch?v=NthmeLEhDDM" target="_blank" rel="external">奇技淫巧</a>已经将JavaScript的性能开发到了极限。它使用了最快速的语句，优化的算法，甚至还会在发版前做性能测试以保证回归没问题。</p>
<a id="more"></a>
<h2 id="延迟求值"><a href="/2014/11/08/lazy-evaluation/#延迟求值" class="headerlink" title="延迟求值"></a>延迟求值</h2><p>但似乎我错了-还可以让<code>Lo-Dash</code>有明显的提升。只需将关注点从细微的优化转移到算法上来。譬如，在一次循环中我们往往会去优化循环体：</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> len <span class="token operator">=</span> <span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// &lt;- 10ms - 如何做到 9ms?!</span>
<span class="token punctuation">}</span>
</code></pre>
<p>但针对循环体的优化往往很难，很多时候已经到极限了。相反，优化<code>getLength()</code> 函数尽量减少循环次数变得更有意义了。你想啊，这个数值越小，需要循环的<code>10ms</code>就越少。</p>
<p>这便是<code>Lo-Dash</code>实现延迟求值的大致思路。重要的是减少循环次数，而不是每次循环的时间。让我们考察下面的例子：</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">priceLt</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> item<span class="token punctuation">.</span>price <span class="token operator">&lt;</span> x<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> gems <span class="token operator">=</span> <span class="token punctuation">[</span>
   <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Sunstone'</span><span class="token punctuation">,</span> price<span class="token punctuation">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Amethyst'</span><span class="token punctuation">,</span> price<span class="token punctuation">:</span> <span class="token number">15</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Prehnite'</span><span class="token punctuation">,</span> price<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Sugilite'</span><span class="token punctuation">,</span> price<span class="token punctuation">:</span> <span class="token number">7</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Diopside'</span><span class="token punctuation">,</span> price<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Feldspar'</span><span class="token punctuation">,</span> price<span class="token punctuation">:</span> <span class="token number">13</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Dioptase'</span><span class="token punctuation">,</span> price<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Sapphire'</span><span class="token punctuation">,</span> price<span class="token punctuation">:</span> <span class="token number">20</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> chosen <span class="token operator">=</span> <span class="token function">_</span><span class="token punctuation">(</span>gems<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token function">priceLt</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">take</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>我们只想取出3个价格低于10元的小球。通常情况下我们先过滤整个数据源，最后从所有小于10的元素里返回前面三个即可。</p>
<p><img src="/2014/11/08/lazy-evaluation/lodash-naive.gif" alt="lo-dash naive"><span class="image-caption">lo-dash naive</span></p>
<p>但这种做法并不优雅。它处理了全部8个数据，但其实只需要处理前面5个我们就能拿到结果了。同样为了得到正确的结果，延迟求值则只处理最少的元素。优化后如下图所示：</p>
<p><img src="/2014/11/08/lazy-evaluation/grafika.gif" alt="lo-dash naive"><span class="image-caption">lo-dash naive</span></p>
<p>一下子就获得了37.5%的性能提升。很容易找出提升X1000+的例子。比如：</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> phoneNumbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5554445555</span><span class="token punctuation">,</span> <span class="token number">1424445656</span><span class="token punctuation">,</span> <span class="token number">5554443333</span><span class="token punctuation">,</span> … ×<span class="token number">99</span><span class="token punctuation">,</span><span class="token number">999</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// 取出100个含 `55` 的号码</span>
<span class="token keyword">function</span> <span class="token function">contains55</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"55"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> r <span class="token operator">=</span> <span class="token function">_</span><span class="token punctuation">(</span>phoneNumbers<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>String<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>contains55<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">take</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>这个例子中<code>map</code>和<code>filter</code> 将遍历99999 个元素，但很有可能我们只需处理到1000个元素的时候就已经拿到想要的结果了。这回性能的提升就太明显了（<a href="http://jsperf.com/lazy-demo" target="_blank" rel="external">benchmark</a>）：</p>
<p><img src="/2014/11/08/lazy-evaluation/benchmark.jpg" alt="benchmark"><span class="image-caption">benchmark</span></p>
<h2 id="流水线"><a href="/2014/11/08/lazy-evaluation/#流水线" class="headerlink" title="流水线"></a>流水线</h2><p>延迟求值同时带来了另一个好处，我称之为“流水线”。要旨就是避免产生中间数组，而是对一个元素一次性进行完所有操作。下面用代码说话：</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">_</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>func1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>func2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>func3<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>上面看似优雅的写法在原始的<code>Lo-Dash</code>里会转换成下面的样子（直接求值）：</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> temp1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> temp2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> temp3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> source<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   temp1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">func1</span><span class="token punctuation">(</span>source<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> source<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   temp2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">func2</span><span class="token punctuation">(</span>temp1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> source<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   temp3<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">func3</span><span class="token punctuation">(</span>temp2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
result <span class="token operator">=</span> temp3<span class="token punctuation">;</span>
</code></pre>
<p>当引入了延迟求值后，代码大致就成这样的了：</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> source<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">func3</span><span class="token punctuation">(</span><span class="token function">func2</span><span class="token punctuation">(</span><span class="token function">func1</span><span class="token punctuation">(</span>source<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>减少不必要的中间变量多少会带来性能上的提升，特别是在数据源特别巨大，内存又吃紧的情况下。</p>
<h2 id="延迟执行"><a href="/2014/11/08/lazy-evaluation/#延迟执行" class="headerlink" title="延迟执行"></a>延迟执行</h2><p>延迟求值带来的另一个好处是延迟执行。无论何时你写了段链式代码，只有在显式地调用了<code>.value()</code>后才会真正执行。这样一来，在数据源需要异步去拉取的情况下，可以保证我们处理的是最新的数据。</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> wallet <span class="token operator">=</span> <span class="token function">_</span><span class="token punctuation">(</span>assets<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token function">ownedBy</span><span class="token punctuation">(</span><span class="token string">'me'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                      <span class="token punctuation">.</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'value'</span><span class="token punctuation">)</span>
                      <span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>

$json<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">"/new/assets"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    assets<span class="token punctuation">.</span>push<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>assets<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 更新数据源</span>
    wallet<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 返回的结果是最新的</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>而且这种机制在某些情况下也会提高执行效果。我们可以老早发送一个请求获取数据，然后指定一个精确的时间来执行。</p>
<h2 id="后记"><a href="/2014/11/08/lazy-evaluation/#后记" class="headerlink" title="后记"></a>后记</h2><p>延迟求值并且不算什么新技术。在一些库中已经在使用了，比如<a href="http://en.wikipedia.org/wiki/Language_Integrated_Query" target="_blank" rel="external">LINQ</a>,<a href="http://danieltao.com/lazy.js/" target="_blank" rel="external">Lazy.js</a>还有其他等等。那么问题来了，<code>Lo-Dash</code>存在的意义是啥？我想就是你仍然可以使用你熟悉的<code>Underscore</code> 接口但享受一个更高效的底层实现，不需要额外的学习成本，代码上面也不会有大的变动，只需稍加修改。</p>

      </section>
    </article>

    
      <div class="pager">
        
            <a class="post-prev pager-item" href="/2014/11/26/javascript-benchmarking/">
              <strong class="article-nav-caption">上一篇</strong>
              <p class="post-nav-title truncate-text">JavaScript的基准测试-不服跑个分？</p>
            </a>
        
        
            <a class="post-next pager-item" href="/2014/11/02/how-to-make-a-simple-html5-canvas-game-zh/">
              <strong class="article-nav-caption">下一篇</strong>
              <p class="post-nav-title truncate-text">如何开发一个简单的HTML5 Canvas 小游戏</p>
            </a>
        
      </div>
    

    <!-- comments -->
    <div class="comment-section">
  
    <div id="disqus_thread"></div>
    <script>
        var disqus_config = function () {
            this.page.url = 'https://wayou.github.io/2014/11/08/lazy-evaluation/'; 
            this.page.identifier = '_posts/2014-11-08-lazy-evaluation.md';
        };
        (function() {  
            var d = document, s = d.createElement('script');
            s.src = '//wayou.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
  
</div>


  </div>
</div>
    <footer class="footer">
    <p>由<a href="http://hexo.io/" target="_blank">Hexo</a>强力驱动，搭载<a title="under developing..." href="javascript:;">末名</a>主题</p>
    <p>
        &copy; 2017 Wayou Liu
    </p>
</footer>
<script src="/lib/waves/waves.js"></script>
<script src="/lib/tocbot/tocbot.js"></script>
<script src="/js/main.js"></script>

  </body>
</html>
