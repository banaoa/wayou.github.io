JsObject.JqGridBuilder={DEFAULT_JQGRID_CONFIG:{pager:"#pager",gridId:"list",postData:{},datatype:"json",mtype:"post",sortname:"id",viewrecords:true,sortorder:"desc",shrinkToFit:true,height:"auto",autowidth:true,multiselect:true,beforeRequest:function(){var obj="parent.JsObject.Session";for(var i=1;i>0;i++){var parentObj=eval(obj);if(parentObj==undefined){obj="parent."+obj;continue}obj=parentObj;break}obj.validateSession()},rowNum:10,rowList:[10,20,30,50,100,200],viewrecords:true,jsonReader:{root:"result",page:"pageNo",rows:"pageSize",total:"totalPages",records:"totalCount",userdata:"message",repeatitems:false,id:"id"},prmNames:{rows:"page.pageSize",page:"page.pageNo",sort:"page.orderBy",order:"page.order"}},newConfig:function(e){var r=JsObject.jsonClone(this.DEFAULT_JQGRID_CONFIG);if(arguments.length==0||e==undefined||e==""){return r}r.pager="#"+e+"_pager";r.gridId=e+"_list";return r},newBuilder:function(prefix,formId,fileName,sqlKey,sqlCKey,url,caption,buttonArray){var newConfig=this.newConfig(prefix);var queryForm=JsObject.Ajax.getFormSerialize(formId);queryForm["page.searchFileName"]=fileName;queryForm["page.sqlKey"]=sqlKey;queryForm["page.sqlCKey"]=sqlCKey;newConfig.url=url;newConfig.postData=queryForm;var builder={config:newConfig,JsObjectButtons:buttonArray,render:function(e,r){JsObject.JqGridBuilder.render(this.config,this.JsObjectButtons,e,r)},autoGridComplete:function(gridId,rowButton){this.config.gridComplete=function(){var message=$("#"+gridId).getGridParam("userData");if(message.errorState=="error"){var obj="parent.document.getElementById('mainIframe')";for(var i=1;i>0;i++){var object=eval(obj);if(object==null){obj="parent."+obj;continue}obj=object;break}$(obj).attr("src","pages/error/search-error.html?message="+encodeURI(message.errorMessage))}if(rowButton!=undefined){JsObject.JqGridBuilder.butildRowButton(gridId,rowButton)}}}};return builder},render:function(e,r,t,a){try{var n=this;var o=e.gridId;if(arguments.length>=4&&a!=undefined){e.onSelectRow=function(){n.removeCRUDButtons(e.pager);a(n.gainRowData(o))}}e.loadComplete=function(){n.removeCRUDButtons(e.pager);if(r!=null){n.addCRUDButtons(o,e.pager,n.builderObj(r,t))}};$("#"+o).jqGrid(e);this.removeDefaultNavButtons(o,e.pager,e.scroll)}catch(e){alert(e.message)}},addCRUDButtons:function(e,r,t){var a=0;var n=this.filterButton(t);for(var o=0;o<n.length;o++){if(o>=1){$("#"+e).navSeparatorAdd(r,{separator:{color:"red"}})}this.createButton(e,r,n[o])}},filterButton:function(buttonsObj){var array=new Array;var resource="";var obj="JsObject.Security";for(var i=1;i>0;i++){var jsObj=eval(obj);if(jsObj==undefined){obj="parent."+obj}else{resource=jsObj.resource();break}}var resourceArray=resource.split(",");for(var i=0;i<buttonsobj.length;i++){var buttonobj="buttonsObj[i];if(buttonObj["resourceFilter"]=="*"){array.push(buttonObj);continue}for(var" j="0;j<resourceArray.length;j++){if(resourceArray[j]==buttonObj["resourceFilter"]){array.push(buttonObj);break}}}return" array},filterbutton_open:function(buttonsobj){var="" array="new" array;var="" resource="" ;var="" obj="parent.JsObject.Security" ;for(var="" i="1;i">0;i++){var jsObj=eval(obj);if(jsObj==undefined){obj="opener."+obj}else{resource=jsObj.resource();break}}var resourceArray=resource.split(",");for(var i=0;i<buttonsobj.length;i++){var buttonobj="buttonsObj[i];if(buttonObj["resourceFilter"]=="*"){array.push(buttonObj);continue}for(var" j="0;j<resourceArray.length;j++){if(resourceArray[j]==buttonObj["resourceFilter"]){array.push(buttonObj);break}}}return" array},butildrowbutton:function(e,r){var="" t="$("#"+e).jqGrid("getDataIDs");for(var" a="0;a<t.length;a++){var" n="t[a];var" o="{};for(var" i="" in="" r){var="" u="r[i];o[i]=this.buildRowALabel(u,e,n)}$("#"+e).jqGrid("setRowData",t[a],o)}},buildRowALabel:function(e,r,t){function" a(e,r,t){if(e.validate="=undefined||e.validate" instanceof="" function&&e.validate($("#"+r).getrowdata(t))){var="" ;for(var="" e){if(n!="name" &&n!="validate" ){if(n.substring(0,2)="="on"){a+=n+'="'+e[n]+'(this)"'}else{a+=n+'="'+e[n]+'"'}}}return" a+=">" +e["name"]+"<="">"}return""}var n="";for(var o=0;o<e.length;o++){if(a(e[o],r,t)!=""){if(n==""){n+="["}else{n+="]-["}n+=a(e[o],r,t)}}if(n==""){return n}else{return="" n+"]"}},buildbutton:function(e,r,t){var="" a="null;if(t==undefined){a=this.filterButton(e)}else{a=this.filterButton_open(e)}function" n(e,r){var="" t="<input " ;for(var="" in="" e){if(a!="name" ){if(a.substring(0,2)="="on"){if(e[a].indexOf("(")!=-1){t+=a+'="'+e[a]+'"'}else{t+=a+'="'+e[a]+'()"'}}else{t+=a+'="'+e[a]+'"'}}}return" t+="  value="" +e["name"]+'"="">'}var o="";for(var i=0;i<a.length;i++){if(i!=0){o+=" "}o+="n(a[i])}$("#"+r).html(o)},builderObj:function(e,r){var" t="new" array;for(var="" a="0;a<r.length;a++){t[a]=e[r[a]]}return" t},removedefaultnavbuttons:function(e,r,t){var="" tr").remove();$(e+"_left="" tbody").html("<tr="">")},createButton:function(e,r,t){var a=this;$("#"+e).jqGrid("navButtonAdd",r,{caption:t.name,buttonicon:"none",position:"crean",cursor:"pointer",onClickButton:function(){if(null!=t.customEvent&&t.customEvent!=undefined){t.customEvent(a.gainRowData(e));return}alert("暂为提供默认处理")}})},queryFormSeach:function(e,r){var t=false;var a=RegExp(/[\:\;\"\%\>\</a.length;i++){if(i!=0){o+="></e.length;o++){if(a(e[o],r,t)!=""){if(n==""){n+="["}else{n+="]-["}n+=a(e[o],r,t)}}if(n==""){return></buttonsobj.length;i++){var></buttonsobj.length;i++){var></n.length;o++){if(o>